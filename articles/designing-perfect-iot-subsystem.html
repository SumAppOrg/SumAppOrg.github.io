<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Designing a perfect IoT subsystem | SumApp</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Designing a perfect IoT subsystem" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="IoT promotes a heightened level of awareness about our world, ‘Reach out and touch somebody’ is becoming ‘reach out and touch everything’" />
<meta property="og:description" content="IoT promotes a heightened level of awareness about our world, ‘Reach out and touch somebody’ is becoming ‘reach out and touch everything’" />
<link rel="canonical" href="/articles/designing-perfect-iot-subsystem.html" />
<meta property="og:url" content="/articles/designing-perfect-iot-subsystem.html" />
<meta property="og:site_name" content="SumApp" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-08-09T12:35:26+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Designing a perfect IoT subsystem" />
<script type="application/ld+json">
{"description":"IoT promotes a heightened level of awareness about our world, ‘Reach out and touch somebody’ is becoming ‘reach out and touch everything’","url":"/articles/designing-perfect-iot-subsystem.html","@type":"BlogPosting","headline":"Designing a perfect IoT subsystem","dateModified":"2021-08-09T12:35:26+00:00","datePublished":"2021-08-09T12:35:26+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/articles/designing-perfect-iot-subsystem.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="/assets/css/default.css">
    <script src="/assets/js/main.js"></script><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="SumApp" /><script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
</head><body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
<header class="mdl-layout__header mdl-layout__header--waterfall portfolio-header">
    <div class="mdl-layout__header-row portfolio-logo-row">
        <span class="mdl-layout__title">
            <div class="portfolio-logo"></div>
            <span class="mdl-layout__title">SumApp</span>
        </span>
    </div>
    <div class="mdl-layout__header-row portfolio-navigation-row mdl-layout--large-screen-only">
        <nav class="mdl-navigation mdl-typography--body-1-force-preferred-font">
            <a class="mdl-navigation__link" href="/index.html">Home</a>
            <a class="mdl-navigation__link" href="/articles">
                Articles
            </a><a class="mdl-navigation__link" href="/features">
                Features
            </a><button id="menu-projects" class="mdl-navigation__link mdl-button mdl-js-button">
                Projects
            </button>
            
            <ul class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="menu-projects">
                
                <li class="mdl-menu__item" onclick="location.href='/projects/sum-app-graph.html';">Sum App Graph</li>
                
            </ul>
        </nav>
    </div>
</header>
<div class="mdl-layout__drawer mdl-layout--small-screen-only portfolio-drawer">
    <nav class="mdl-navigation mdl-typography--body-1-force-preferred-font">
        <a class="mdl-navigation__link" href="/index.html">Home</a>
        <a class="mdl-navigation__link" href="/articles">
            Articles
        </a><a class="mdl-navigation__link" href="/features">
            Features
        </a><div class="mdl-accordion">
            <a class="mdl-navigation__link mdl-accordion__button">
                <i class="material-icons mdl-accordion__icon mdl-animation--default">expand_more</i>
                Projects
            </a>
            <div class="mdl-accordion__content-wrapper">
                <div class="mdl-accordion__content mdl-animation--default">
                    
                    <a class="mdl-navigation__link" href="/projects/sum-app-graph.html">
                        Sum App Graph
                    </a>
                    
                </div>
            </div>
        </div>
    </nav>
</div>
<div id="overlay">
        </div>
        <main class="mdl-layout__content">
            <div class="mdl-grid portfolio-max-width">
                <div class="mdl-cell mdl-cell--12-col mdl-card mdl-shadow--4dp">
    <div class="mdl-card__title">
        <h1 class="animate__animated animate__fadeInDown">Designing a perfect IoT subsystem</h1>
    </div>
    
    <div class="mdl-card__media">
        <img src="/assets/images/articles/iot.jpg" border="0"
        alt="">
    </div>
    
    <div class="default-content">
        <p><em><strong>IoT promotes a heightened level of awareness about our world, ‘Reach out and touch somebody’ is becoming ‘reach out and touch everything’</strong></em></p>

<h2 id="motivation">Motivation</h2>
<p>Why another IoT platform? Don’t we have enough already? No, on the contrary.</p>

<p>The five most important characteristics on an ideal IoT platform -</p>
<ul>
  <li><em>Security</em>: Securing both data and communication channels without compromising flexibility of installation.</li>
  <li><em>Scalability</em>: A scalable architect is configurable to any industrial environment handling growth in data and devices.</li>
  <li><em>Reliability</em>: Mitigating intermittent connections and failover ensuring disaster recovery and predictable data processing.</li>
  <li><em>Extensibility</em>: Meet specific business requirements with minimum learning curve.</li>
  <li><em>Modularity</em>: Componentizing IoT solutions for maximum reuse.</li>
</ul>

<div class="hbox" style="--style: 2fr 1fr;">
    <div class="left">
<p>Why subsystem? Why not platform?</p>

<p>All major hyperscalers (GCP, AWS and Azure) have mature NoSQL DBs, Container based edge devices, and business services. Instead of reinventing the wheel, we build the system that is pluggable with the infrastructure components out of box.</p>
</div>
    <div class="right">
<p><img src="/assets/images/articles/iot-platform.png" alt="IoT Platform" /></p>
</div>
</div>
<h2 id="components">Components</h2>
<p>The basic element of modeling in IoT is a Thing (No price for guess, given that IoT stands for Internet of Things eh)</p>

<div class="hbox" style="--style: 1fr 2fr;">
    <div class="left">
<p><img src="/assets/images/articles/iot-config.png" alt="Configuration" /></p>
</div>
    <div class="right">
<p>A Thing is a logical abstraction of any business object / processes / physical asset of relevance in the system. Typical examples are - Vehicles, containers, machines, plants, warehouses, planning, decommissioning etc.</p>

<p>Thing type hierarchies allow system to be generalized by encapsulating and inheriting behaviors. At the same time the thing hierarchies allow commonalities between things. For example consider thresholds to be defined for all containers per plant they are physically located in.</p>
</div>
</div>
<p>A property set is any value that the things of the type emit during operation. Every property set results into a time series to be evaluated or a stream to be notified of. A property set could be set of measures emitted by a sensor periodically, values configured for defining behavior or triggers for business events. The events could be reflecting a business situation, response to an application rule, triggers scheduled at a fixed frequency or events marked to monitor a sensor pattern after the application rule is processed.</p>

<p><img src="/assets/images/articles/iot-entities.png" alt="Properties" /></p>

<h3 id="rules">Rules</h3>
<p>IoT systems require processing of data in motion ― in other words, computing on data directly as it is produced or received. These rules are typically operating at discrete events.</p>

<div class="hbox" style="--style: 2fr 1fr;">
    <div class="left">
<p>Upon receiving an event from a data stream, the application reacts to the event immediately. The application might trigger an action, update an aggregate, or “remember” the event for future use. Computations can also handle multiple streams jointly, and each computation over the event data stream may produce other event data streams.</p>
</div>
    <div class="right">
<p><img src="/assets/images/articles/iot-timeseries.png" alt="Time Series" /></p>
</div>
</div>
<p>Rule engines are designed to focus on the high throughput stream execution. Executions over streams are generally “continuous,” executing for long periods of time and returning incremental results. Operations include: selecting from a stream, Stream-Relation Joins, Union and Merge, and Windowing and Aggregation operations.</p>

<p><img src="/assets/images/articles/iot-rules.png" alt="Rules" /></p>

<p>The core artefact rule runs on one or more property sets. Property sets could be stream of measure values, time dependent configuration parameters or event triggers from earlier rule. The combination consists of stream delimited by the join of all properties. A rule can have windowing interval defined for rule to operate on distinct or aggregated values in the the interval.</p>

<div class="hbox" style="--style: 1fr 2fr;">
    <div class="left">
<p><img src="/assets/images/articles/iot-context.png" alt="Process Context" /></p>
</div>
    <div class="right">
<p>The processing logic is defined using process steps with application defined scripts, checks using exclusive or parallel gateways and actions in form of external service calls or event triggers. At any point in the processing variables can be written or read from the context.</p>
</div>
</div>
<h3 id="code-push-down">Code push down</h3>
<p>IoT processing can be performed at three levels: IoT devices, edge nodes, and servers over cloud. The need for processing at each level depends on the time sensitiveness of the application. For example, sometimes things need to make real-time decisions to avoid a critical situation. This fast decision making would not be possible through transferring data from the devices to cloud instances and return the results back to the devices. Instead, all the operation should be performed locally in the device. This require rules to be transplied in a container based deployment model. All majorly used microcontrollers available today support container based deployments. See <a href="https://www.balena.io/os/">Balena</a> OS for one such example.</p>

<h3 id="special-use-cases">Special use cases</h3>
<p><strong>Ingesting out of band data</strong>: No matter how reliable and robust the application architecture might be, we still have situations where data frames are not ingested owing to bad network connection, race condition resulting out of slow processing at destination. A reliable IoT system should be able to relay buffered out of band data during quieter time frames along with aggregating sensor data with next in sync data frame.</p>

<div class="hbox" style="--style: 2fr 1fr;">
    <div class="left">
<p><strong>One time callbacks</strong>: We often run into situations where the business applications depend on synchronous processing on IoT sensor data or condition. The rules we define then should be able to publish event or results to an application defined one time callback.</p>
</div>
    <div class="right">
<p><img src="/assets/images/articles/iot-sequence.png" alt="Sequence" /></p>
</div>
</div>
<h2 id="conclusion">Conclusion</h2>
<p>We are working on a spring based implementation of an IoT subsystem with above specification. Stay tuned to this space for further details. Ciao</p>

<h2 id="whats-next">What’s next?</h2>
<ul>
  <li>Evaluating IoT readiness - Playback situations …coming soon</li>
  <li>Democratizing home automation …coming soon</li>
  <li>Modelling IoT Content - Why No Code …coming soon</li>
  <li>IoT and Analytics - The Sweet Spot …coming soon</li>
  <li>Geo location processing …coming soon</li>
</ul>

    </div>
</div>
            </div><footer class="mdl-mini-footer">
    <div class="mdl-mini-footer__left-section">
        <div class="mdl-logo">SumApp</div>
    </div>
    <div class="mdl-mini-footer__right-section">
        <ul class="mdl-mini-footer__link-list">
            <li><a href="#">Help</a></li>
            <li><a href="#">Privacy & Terms</a></li>
        </ul>
    </div>
</footer></main>
    </div>
</body>

</html>